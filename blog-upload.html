<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Blog Editor - Rich Text</title>
<style>
  body { font-family: system-ui, sans-serif; max-width: 900px; margin: 40px auto; }
  input, button { width: 100%; margin-bottom: 12px; padding: 10px; font-size: 14px; }
  .toolbar button { width: auto; display: inline-block; margin-right: 4px; }
  .editor { border: 1px solid #ccc; min-height: 150px; padding: 8px; margin-bottom: 12px; border-radius: 4px; }
  pre { background: #f5f5f5; padding: 16px; white-space: pre-wrap; word-break: break-word; }
</style>
</head>
<body>

<h1>Create Blog Post (Rich Text)</h1>

<form id="blogForm">
  <input id="postId" placeholder="Post ID" required />
  <input id="author" placeholder="Author" />
  <input id="image" placeholder="Hero Image URL" />
  <input id="minRead" placeholder="Min Read" />

  <h3>Content</h3>
  <div class="toolbar">
    <button type="button" onclick="format('bold')"><b>B</b></button>
    <button type="button" onclick="format('italic')"><i>I</i></button>
    <button type="button" onclick="format('underline')"><u>U</u></button>
    <button type="button" onclick="format('strikeThrough')"><s>S</s></button>
    <button type="button" onclick="format('insertUnorderedList')">&bull; List</button>
    <button type="button" onclick="format('insertOrderedList')">1. List</button>
    <button type="button" onclick="insertLink()">Link</button>
  </div>

  <div id="editor" class="editor" contenteditable="true" placeholder="Write your content here..."></div>

  <button type="submit">Generate CSV Row</button>
</form>

<h3>CSV Row</h3>
<pre id="output"></pre>
<button id="copyBtn">Copy to Clipboard</button>

<script>
function format(cmd) {
  document.execCommand(cmd, false, null);
}

function insertLink() {
  const url = prompt("Enter the URL:");
  if(url) document.execCommand('createLink', false, url);
}

document.getElementById("blogForm").addEventListener("submit", e => {
  e.preventDefault();
  const postId = document.getElementById("postId").value.trim();
  const author = document.getElementById("author").value.trim();
  const heroImage = document.getElementById("image").value.trim();
  const minRead = document.getElementById("minRead").value.trim();
  const date = new Date().toISOString().split("T")[0];
  const contentHTML = document.getElementById("editor").innerHTML.replace(/"/g, '""');

  const row = [
    postId, author, minRead, heroImage, date,
    `"${contentHTML}"`
  ].join(",");

  document.getElementById("output").textContent = row;
});

document.getElementById('copyBtn').addEventListener('click', () => {
  const output = document.getElementById("output").textContent;
  navigator.clipboard.writeText(output).then(() => alert('Copied to clipboard!'));
});
</script>

</body>
</html>

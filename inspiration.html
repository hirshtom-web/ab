<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>inspiration</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="header.css">
  <link rel="stylesheet" href="inspiration.css">
  <link rel="stylesheet" href="footer.css">

  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>

  <!-- HEADER -->
  <div id="header-placeholder"></div>


<main>
  <section class="articles-section">
    <h2 style="padding: 20px 20px 0 20px;">Latest Articles</h2>
    <div class="articles-grid" id="latest-articles"></div>
  </section>

  <section class="articles-section">
    <h2 style="padding: 20px 20px 0 20px;">Popular Picks</h2>
    <div class="articles-grid" id="popular-articles"></div>
  </section>
</main>



 <!-- FOOTER -->
  <div id="footer-placeholder"></div>
  

  <!-- Scripts -->
  <script src="header.js"></script>
  <script src="products.js"></script>
  <script src="artist-card.js"></script>
  <script src="index.js"></script>

<script>
  // Load header
  fetch("header.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("header-placeholder").innerHTML = html;
      initHeader();
      initProductsPage();
    })
    .catch(err => console.error("Header load failed:", err));

  // Load footer
  fetch("footer.html")
    .then(res => res.text())
    .then(html => {
      document.getElementById("footer-placeholder").innerHTML = html;

      // ✅ IMPORTANT: init footer AFTER injection
      initFooter();
    })
    .catch(err => console.error("Footer load failed:", err));
</script>
<script>
fetch('blog-posts.json')
  .then(res => res.json())
  .then(articles => {
    const container = document.getElementById('latest-articles');

    // Sort latest by date descending
    const latestArticles = articles.sort((a,b) => new Date(b.date) - new Date(a.date));

    latestArticles.forEach(article => {
      if (!article.title) return;

      // Limit title & subtitle to ~10 words
      const titleWords = article.title.split(' ').slice(0, 10).join(' ') + (article.title.split(' ').length > 10 ? ' …' : '');
      const subtitleWords = article.subtitle.split(' ').slice(0, 10).join(' ') + (article.subtitle.split(' ').length > 10 ? ' …' : '');

      const card = document.createElement('article');
      card.className = 'article-card';
      card.innerHTML = `
        <img src="${article.heroImage}" alt="${article.title}">
        <div class="article-text">
          <span class="category">${article.category || 'General'}</span>
          <h3 class="title">${titleWords}</h3>
          <p class="subtitle">${subtitleWords}</p>
          
          <div class="meta-row">
  <span class="meta-item">
    <span class="material-symbols-outlined">schedule</span>
    ${article.readTime || 5} min read
  </span>

  <span class="meta-item">
    <span class="material-symbols-outlined">visibility</span>
    ${article.views || 0}
  </span>
</div>


          <a href="blog-post.html?id=${encodeURIComponent(article.id)}" class="view-more">View More →</a>
        </div>
      `;
      container.appendChild(card);
    });
  })
  .catch(err => console.error("Error loading blog JSON:", err));
</script>



  <script src="footer.js"></script>
  <script src="cart.js"></script>
  

</body>
</html>

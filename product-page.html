<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

  <style>

/* ---------- LAYOUT WRAPPER ---------- */
.wrapper {
  max-width: 1200px;
  margin: 35px auto;
  display: flex;
  gap: 30px;
  align-items: flex-start;
}

/* LEFT SIDE = ACCORDION */
.accordion {
  width: 60%;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* RIGHT SIDE = MEDIA BOX */
.media-box {
  width: 40%;
  background: #F7F5ED;
  border: 1px solid #f0ede4;
  border-radius: 14px;
  padding: 12px;
  display: block;
}

.media-box video,
.media-box img {
  width: 100%;
  border-radius: 12px;
  display: block;
}

/* ---------------- ACCORDION ---------------- */

.accordion-item {
  background: #F7F5ED;
  border-radius: 12px;
  overflow: hidden;
  transition: 0.3s ease;
  border: 1px solid #f0ede4;
}

.accordion-header {
  width: 100%;
  height: 60px;                /* fixed tab height */
  padding: 0 22px;             /* remove top/bottom padding */
  background: transparent;
  border: none;
  outline: none;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: #111;
  display: flex;
  align-items: center;         /* vertical center */
  justify-content: space-between;
  cursor: pointer;
  box-sizing: border-box;
}

.accordion-header h2,
.accordion-header span,
.accordion-header p {
  margin: 0;                   /* remove default top/bottom margin */
  line-height: 1.2;            /* optional: adjust spacing */
}


.accordion-item.active .icon {
  transform: rotate(45deg);
}

.accordion-content {
  max-height: 0;
  overflow: hidden;
  padding: 0 22px;
  line-height: 1.5;
  font-size: 13px;
  color: #444;
  transition: max-height 0.35s ease;
}

.accordion-item.active .accordion-content {
  padding: 12px 22px 20px;
}

@media (max-width: 900px) {

  /* Accordion tabs */
  .accordion-header {
    height: 50px;               /* fixed mobile tab height */
    padding: 0 16px;            /* horizontal padding only */
    font-size: 13px;            /* smaller header text */
    display: flex;
    align-items: center;        /* vertically center text */
    justify-content: space-between;
    box-sizing: border-box;
  }

  .accordion-header h2,
  .accordion-header span,
  .accordion-header p {
    margin: 0;                  /* remove default margins */
    line-height: 1.2;           /* tight line spacing */
    font-size: 13px;
  }

  /* Accordion content */
  .accordion-content {
    font-size: 12px;            /* smaller text */
    line-height: 1.4;
    padding: 6px 16px 10px;     /* reduced padding for minimal gap */
    margin-top: 0;               /* remove extra top spacing */
  }

  /* Wrapper adjustments for mobile */
  .wrapper {
    flex-direction: column;
    max-width: 90%;
    margin: 30px auto;
    gap: 20px;                   /* spacing between accordion and media box */
  }

  .accordion {
    width: 100%;
  }

  .media-box {
    width: 100%;
    margin-top: 12px;
    padding: 0;
  }

}

*{box-sizing:border-box}
body{margin:0;font-family:'Poppins',sans-serif;background:#fff;color:#111;}
.container{max-width:1200px;margin:0 auto;padding:24px;}
.back-link{display:inline-block;margin-bottom:20px;text-decoration:none;color:#111;font-weight:500;}
.product-layout{display:grid;grid-template-columns:1fr 1fr;gap:40px;}
@media(max-width:900px){.product-layout{grid-template-columns:1fr;}}
.gallery{display:flex;flex-direction:column;gap:14px;position:relative;}
.main-image{width:100%;aspect-ratio:1/1;border-radius:18px;object-fit:cover;background:#f3f3f3;transition:opacity 0.3s ease;}
.thumbnails{display:flex;gap:10px;}
.thumbnails img{width:72px;height:72px;object-fit:cover;border-radius:12px;cursor:pointer;opacity:.6;border:2px solid transparent;transition:all 0.2s;}
.thumbnails img.active{opacity:1;border-color:#111;}
.product-info h1{font-size:32px;margin:0 0 10px;}
.price-container{display:flex;align-items:center;gap:12px;}
.price{font-size:24px;font-weight:600;margin:10px 0 20px;}
.old-price{font-size:18px;text-decoration:line-through;color:#999;}
.ribbon{display:inline-block;background:#111;color:#fff;padding:6px 12px;border-radius:999px;font-size:12px;margin-bottom:12px;}
.description{font-size:15px;line-height:1.6;color:#444;margin-top:20px;}
.cta{margin-top:30px;display:flex;flex-direction:column;gap:12px;}
.cta button{padding:14px 26px;border-radius:999px;border:none;background:#111;color:#fff;font-size:14px;cursor:pointer;}
.license-options{display:flex;gap:10px;margin-top:10px;}
.license-options label{display:flex;align-items:center;gap:6px;cursor:pointer;}
.license-options input[type="radio"]{cursor:pointer;}
.related-products{margin-top:50px;}
.related-products h2{font-size:24px;margin-bottom:20px;}
.related-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;}
.related-card{border:1px solid #eee;border-radius:12px;padding:12px;text-align:center;transition:transform 0.2s;}
.related-card:hover{transform:scale(1.05);}
.related-card img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:12px;}
.related-card h4{margin:10px 0 4px;font-size:16px;}
.related-card .price{font-size:14px;font-weight:600;color:#111;}
</style>
</head>
<body>

<div class="container">
  <a href="#" class="back-link" id="backBtn">← Back</a>

  <div class="product-layout">
    <div class="gallery">
      <img id="mainImage" class="main-image" src="">
      <div id="thumbnails" class="thumbnails"></div>
    </div>

    <div class="product-info">
      <div id="ribbon" class="ribbon" style="display:none"></div>
      <h1 id="title">Loading...</h1>
      <div class="price-container">
        <span id="price" class="price"></span>
        <span id="oldPrice" class="old-price"></span>
      </div>

      <div id="description" class="description"></div>

      <div class="cta">
        <div class="license-options">
          <label><input type="radio" name="license" value="personal" checked> Personal</label>
          <label><input type="radio" name="license" value="commercial"> Commercial</label>
          <label><input type="radio" name="license" value="extended"> Extended</label>
        </div>
        <button id="addToCart">Add to Cart</button>
      </div>
    </div>
  </div>

  <div class="related-products">
    <h2>Related Products</h2>
    <div id="relatedGrid" class="related-grid"></div>
  </div>
</div>

<div class="wrapper">

  <!-- LEFT SIDE ACCORDION -->
  <div class="accordion">

    <div class="accordion-item">
      <button class="accordion-header">
        High-Resolution Digital Art Prints
        <span class="icon">+</span>
      </button>
      <div class="accordion-content">
        <p>You’ll receive high-resolution files with crisp detail, vibrant color, and easy resizing, so you can print them in any size at home or through a local or online printing service. Perfect for framing, gifts, or decorating your space.</p>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">
        Instant Download Via Email
        <span class="icon">+</span>
      </button>
      <div class="accordion-content">
        <p>Your files will be sent straight to your email after purchase for quick and easy access.</p>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">
        Easy To Print & Frame
        <span class="icon">+</span>
      </button>
      <div class="accordion-content">
        <p>Print effortlessly at home, online, or through a professional print shop. Once printed, your design is ready to frame and hang, instantly adding beauty to your space.</p>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">
        Usage License
        <span class="icon">+</span>
      </button>
      <div class="accordion-content">
        <p>For personal use only — perfect for home décor or thoughtful gifting.<br>For commercial licensing requests, contact us at info@artebarte.com.</p>
      </div>
    </div>

  </div>

  <!-- RIGHT SIDE MEDIA BOX -->
  <div class="media-box">
    <video autoplay muted loop playsinline id="randomMedia"></video>
  </div>

</div>



  
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script>
// --- Utilities ---
function slugify(str){ return str.toLowerCase().trim().replace(/&/g,'and').replace(/[^a-z0-9]+/g,'-').replace(/^-+|-+$/g,''); }

// --- Elements ---
const titleEl = document.getElementById("title");
const priceEl = document.getElementById("price");
const oldPriceEl = document.getElementById("oldPrice");
const ribbonEl = document.getElementById("ribbon");
const descEl = document.getElementById("description");
const mainImage = document.getElementById("mainImage");
const thumbsEl = document.getElementById("thumbnails");
const relatedGrid = document.getElementById("relatedGrid");
const addToCartBtn = document.getElementById("addToCart");
const licenseInputs = document.querySelectorAll('input[name="license"]');

// --- Get ID ---
const productId = new URLSearchParams(location.search).get("id");

if(!productId){
  titleEl.innerText = "Product not found";
} else {

  Papa.parse("https://hirshtom-web.github.io/ab/new_product_list.csv", {
    download:true,
    header:true,
    skipEmptyLines:true,
    complete: res => {

      // --- Find product ---
      const product = res.data.find(p => slugify(p.name || "") === productId);
      if(!product){ titleEl.innerText = "Product not found"; return; }

      // --- Fill content ---
      titleEl.innerText = product.name;
      priceEl.innerText = product.price ? "$" + product.price : "";
      if(product.discountValue && product.discountMode === "PERCENT"){
        oldPriceEl.innerText = "$" + product.price;
        const discounted = (parseFloat(product.price) * (1 - parseFloat(product.discountValue)/100)).toFixed(2);
        priceEl.innerText = "$" + discounted;
      }
      if(product.ribbon){ ribbonEl.style.display = "inline-block"; ribbonEl.innerText = product.ribbon; }
      descEl.innerHTML = product.description || "";

      // --- Images ---
      const images = (product.productImageUrl || "").split(";").map(u=>u.trim()).filter(Boolean).map(u=>u.includes("http")?u:"https://static.wixstatic.com/media/"+u);
      if(images.length) mainImage.src = images[0];
      thumbsEl.innerHTML = "";
      images.forEach((src,i)=>{
        const t = document.createElement("img");
        t.src = src;
        if(i===0) t.classList.add("active");
        t.onclick = () => {
          mainImage.style.opacity = 0;
          setTimeout(()=>{ mainImage.src=src; mainImage.style.opacity=1; }, 200);
          document.querySelectorAll(".thumbnails img").forEach(img=>img.classList.remove("active"));
          t.classList.add("active");
        };
        thumbsEl.appendChild(t);
      });

      // --- Related products ---
      const related = res.data.filter(p => slugify(p.name || "") !== productId).slice(0,4);
      relatedGrid.innerHTML="";
      related.forEach(r=>{
        const card = document.createElement("div"); card.className="related-card";
        const img = document.createElement("img"); img.src=(r.productImageUrl||"").split(";")[0]; if(!img.src.includes("http")) img.src="https://static.wixstatic.com/media/"+img.src;
        const h4 = document.createElement("h4"); h4.innerText=r.name;
        const pEl = document.createElement("div"); pEl.className="price"; pEl.innerText=r.price?"$"+r.price:"$1";
        card.appendChild(img); card.appendChild(h4); card.appendChild(pEl);
        card.onclick = () => location.href=`product-page.html?id=${slugify(r.name||"")}`;
        relatedGrid.appendChild(card);
      });

      // --- Add to Cart ---
      addToCartBtn.onclick = () => {
        const selectedLicense = document.querySelector('input[name="license"]:checked').value;
        alert(`Added ${product.name} (${selectedLicense}) to cart!`);
        // Here you could integrate with real cart logic
      };
    }
  });
}

// --- Back ---
document.getElementById("backBtn").onclick = e => { e.preventDefault(); history.length>1 ? history.back() : location.href="index.html"; };

  <script>
/* -------- ACCORDION LOGIC -------- */
const accordionItems = document.querySelectorAll('.accordion-item');

accordionItems.forEach(item => {
  const header = item.querySelector('.accordion-header');

  header.addEventListener('click', () => {

    accordionItems.forEach(i => {
      if (i !== item) i.classList.remove('active');
      if (i !== item) i.querySelector('.accordion-content').style.maxHeight = null;
    });

    item.classList.toggle('active');

    const content = item.querySelector('.accordion-content');
    if (item.classList.contains('active')) {
      content.style.maxHeight = content.scrollHeight + "px";
    } else {
      content.style.maxHeight = null;
    }
  });
});


/* -------- RANDOM MEDIA (VIDEOS + IMAGES) -------- */
const mediaList = [
  "https://video.wixstatic.com/video/1799ca_8428cdd03a514d8fa35248436418e881/1080p/mp4/file.mp4",
  "https://video.wixstatic.com/video/1799ca_4a4a7105ce284ce5928b811120fef2fc/1080p/mp4/file.mp4",
  "https://video.wixstatic.com/video/1799ca_9ac7f684c40e4b1db1cb7d8f644c1d77/1080p/mp4/file.mp4"
];

const selected = mediaList[Math.floor(Math.random() * mediaList.length)];

document.getElementById("randomMedia").src = selected;
</script>
</body>
</html>
